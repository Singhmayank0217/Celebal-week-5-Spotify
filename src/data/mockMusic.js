export const mockTracks = [
  {
    id: "1",
    title: "Blinding Lights",
    artist: "The Weeknd",
    album: "After Hours",
    duration: "3:20",
    cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=4NRXx6U8ABQ",
    youtubeId: "4NRXx6U8ABQ",
    genre: "Pop",
  },
  {
    id: "2",
    title: "Watermelon Sugar",
    artist: "Harry Styles",
    album: "Fine Line",
    duration: "2:54",
    cover: "https://i.scdn.co/image/ab67616d0000b273adaeba0e5b8e7c9e8e0b8e8e",
    youtubeUrl: "https://youtube.com/watch?v=E07s5ZYygMg",
    youtubeId: "E07s5ZYygMg",
    genre: "Pop",
  },
  {
    id: "3",
    title: "Good 4 U",
    artist: "Olivia Rodrigo",
    album: "SOUR",
    duration: "2:58",
    cover: "https://i.scdn.co/image/ab67616d0000b273a91c10fe9472d9bd89802e5a",
    youtubeUrl: "https://youtube.com/watch?v=gNi_6U5Pm_o",
    youtubeId: "gNi_6U5Pm_o",
    genre: "Pop Rock",
  },
  {
    id: "4",
    title: "Levitating",
    artist: "Dua Lipa",
    album: "Future Nostalgia",
    duration: "3:23",
    cover: "https://i.scdn.co/image/ab67616d0000b273ef24c3fdbf856340d55cfeb2",
    youtubeUrl: "https://youtube.com/watch?v=TUVcZfQe-Kw",
    youtubeId: "TUVcZfQe-Kw",
    genre: "Dance Pop",
  },
  {
    id: "5",
    title: "Stay",
    artist: "The Kid LAROI & Justin Bieber",
    album: "F*CK LOVE 3: OVER YOU",
    duration: "2:21",
    cover: "https://i.scdn.co/image/ab67616d0000b273fc915b69600616c2f8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=kTJczUoc26U",
    youtubeId: "kTJczUoc26U",
    genre: "Hip Hop",
  },
  {
    id: "6",
    title: "Heat Waves",
    artist: "Glass Animals",
    album: "Dreamland",
    duration: "3:58",
    cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=mRD0-GxqHVo",
    youtubeId: "mRD0-GxqHVo",
    genre: "Indie Pop",
  },
  {
    id: "7",
    title: "Anti-Hero",
    artist: "Taylor Swift",
    album: "Midnights",
    duration: "3:20",
    cover: "https://i.scdn.co/image/ab67616d0000b273bb54dde68cd23e2a268ae0f5",
    youtubeUrl: "https://youtube.com/watch?v=b1kbLWvqugk",
    youtubeId: "b1kbLWvqugk",
    genre: "Pop",
  },
  {
    id: "8",
    title: "As It Was",
    artist: "Harry Styles",
    album: "Harry's House",
    duration: "2:47",
    cover: "https://i.scdn.co/image/ab67616d0000b273daaa68c8a5b6b0e8e8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=H5v3kku4y6Q",
    youtubeId: "H5v3kku4y6Q",
    genre: "Pop Rock",
  },
  {
    id: "9",
    title: "Bad Habit",
    artist: "Steve Lacy",
    album: "Gemini Rights",
    duration: "3:51",
    cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=VF-r5TtlT9w",
    youtubeId: "VF-r5TtlT9w",
    genre: "R&B",
  },
  {
    id: "10",
    title: "Unholy",
    artist: "Sam Smith ft. Kim Petras",
    album: "Gloria",
    duration: "2:36",
    cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=Uq9gPaIzbe8",
    youtubeId: "Uq9gPaIzbe8",
    genre: "Pop",
  },
  {
    id: "11",
    title: "Flowers",
    artist: "Miley Cyrus",
    album: "Endless Summer Vacation",
    duration: "3:20",
    cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=G7KNmW9a75Y",
    youtubeId: "G7KNmW9a75Y",
    genre: "Pop Rock",
  },
  {
    id: "12",
    title: "Creepin'",
    artist: "Metro Boomin, The Weeknd, 21 Savage",
    album: "Heroes & Villains",
    duration: "3:41",
    cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
    youtubeUrl: "https://youtube.com/watch?v=3pPUu5cG5w8",
    youtubeId: "3pPUu5cG5w8",
    genre: "Hip Hop",
  },
];

export const youtubeTrackDatabase = {
  // Popular 2024 hits
  "shape of you": "JGwWNGJdvx8",
  "blinding lights": "4NRXx6U8ABQ",
  "watermelon sugar": "E07s5ZYygMg",
  "good 4 u": "gNi_6U5Pm_o",
  levitating: "TUVcZfQe-Kw",
  stay: "kTJczUoc26U",
  "heat waves": "mRD0-GxqHVo",
  "anti-hero": "b1kbLWvqugk",
  "as it was": "H5v3kku4y6Q",
  "bad habit": "VF-r5TtlT9w",
  unholy: "Uq9gPaIzbe8",
  flowers: "G7KNmW9a75Y",
  creepin: "3pPUu5cG5w8",

  // Classic hits
  "bohemian rhapsody": "fJ9rUzIMcZQ",
  "hello adele": "YQHsXMglC9A",
  "someone like you": "hLQl3WQQoQ0",
  "rolling in the deep": "rYEDA3JcQqw",
  "uptown funk": "OPf0YbXqDm0",
  "can't stop the feeling": "ru0K8uYEZWw",
  "counting stars": "hT_nvWreIhg",
  "sugar maroon 5": "09R8_2nJtjg",
  "see you again": "RgKAFK5djSk",
  "roar katy perry": "CevxZvSJLk8",

  // Recent popular
  "industry baby": "5XK4v2fgMPU",
  "don't start now": "oygrmJFKYZY",
  shivers: "Il0S8BoucSA",
  "perfect ed sheeran": "2Vv-BfVoq4g",
  "drivers license": "ZmDBbnmKpqQ",
  positions: "tcYodQoapMg",
  willow: "RsEZmictANA",
  cardigan: "K-a8s8OLBSE",

  // Hip hop
  "god's plan": "xpVfcZ0ZcFM",
  "sicko mode": "6ONRf7h3Mdk",
  "lucid dreams": "mzB1VGEGcSU",
  sunflower: "ApXoWvfEYVU",
  rockstar: "UceaB4D0jpo",

  // Pop classics
  "shake it off": "nfWlot6h_JM",
  "blank space": "SeIJmciN8mo",
  "bad blood": "QcIy9NiNbmo",
  sorry: "fRh_vgS2dFE",
  "what do you mean": "DK_0jXPuIr0",
  "love yourself": "oyEuk8j8imI",
};

export const findYouTubeId = (trackName, artistName) => {
  const searchKey = `${trackName} ${artistName}`
    .toLowerCase()
    .replace(/[^\w\s]/g, "")
    .replace(/\s+/g, " ")
    .trim();

  if (youtubeTrackDatabase[searchKey]) {
    return youtubeTrackDatabase[searchKey];
  }

  const trackKey = trackName
    .toLowerCase()
    .replace(/[^\w\s]/g, "")
    .trim();
  if (youtubeTrackDatabase[trackKey]) {
    return youtubeTrackDatabase[trackKey];
  }

  const firstArtistWord = artistName.split(" ")[0].toLowerCase();
  const trackWithArtist = `${trackKey} ${firstArtistWord}`;
  if (youtubeTrackDatabase[trackWithArtist]) {
    return youtubeTrackDatabase[trackWithArtist];
  }

  for (const [key, videoId] of Object.entries(youtubeTrackDatabase)) {
    if (key.includes(trackKey) || trackKey.includes(key.split(" ")[0])) {
      return videoId;
    }
  }

  return null;
};

export const genreTracks = {
  "Top hits 2024": mockTracks.slice(0, 8),
  "Chill music": [
    mockTracks[5],
    {
      id: "chill1",
      title: "Shivers",
      artist: "Ed Sheeran",
      album: "=",
      duration: "3:27",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=Il0S8BoucSA",
      youtubeId: "Il0S8BoucSA",
      genre: "Pop",
    },
    {
      id: "chill2",
      title: "Perfect",
      artist: "Ed Sheeran",
      album: "รท",
      duration: "4:23",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=2Vv-BfVoq4g",
      youtubeId: "2Vv-BfVoq4g",
      genre: "Pop",
    },
  ],
  "Workout songs": [
    mockTracks[4],
    {
      id: "workout1",
      title: "Industry Baby",
      artist: "Lil Nas X & Jack Harlow",
      album: "MONTERO",
      duration: "3:32",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=5XK4v2fgMPU",
      youtubeId: "5XK4v2fgMPU",
      genre: "Hip Hop",
    },
    {
      id: "workout2",
      title: "Don't Start Now",
      artist: "Dua Lipa",
      album: "Future Nostalgia",
      duration: "3:03",
      cover: "https://i.scdn.co/image/ab67616d0000b273ef24c3fdbf856340d55cfeb2",
      youtubeUrl: "https://youtube.com/watch?v=oygrmJFKYZY",
      youtubeId: "oygrmJFKYZY",
      genre: "Dance Pop",
    },
  ],
  "Study music": [
    {
      id: "study1",
      title: "Lofi Hip Hop Mix",
      artist: "ChilledCow",
      album: "Study Beats",
      duration: "60:00",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=jfKfPfyJRdk",
      youtubeId: "jfKfPfyJRdk",
      genre: "Lo-Fi",
    },
    {
      id: "study2",
      title: "Peaceful Piano",
      artist: "Ludovico Einaudi",
      album: "Elements",
      duration: "4:12",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=4VR-6AS0-4I",
      youtubeId: "4VR-6AS0-4I",
      genre: "Classical",
    },
  ],
  "Party playlist": [
    mockTracks[3], // Levitating
    {
      id: "party1",
      title: "Uptown Funk",
      artist: "Mark Ronson ft. Bruno Mars",
      album: "Uptown Special",
      duration: "4:30",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=OPf0YbXqDm0",
      youtubeId: "OPf0YbXqDm0",
      genre: "Funk",
    },
    {
      id: "party2",
      title: "Can't Stop the Feeling!",
      artist: "Justin Timberlake",
      album: "Trolls Soundtrack",
      duration: "3:56",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=ru0K8uYEZWw",
      youtubeId: "ru0K8uYEZWw",
      genre: "Pop",
    },
  ],
  "Relaxing music": [
    {
      id: "relax1",
      title: "Weightless",
      artist: "Marconi Union",
      album: "Ambient",
      duration: "8:10",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=UfcAVejslrU",
      youtubeId: "UfcAVejslrU",
      genre: "Ambient",
    },
    {
      id: "relax2",
      title: "River Flows in You",
      artist: "Yiruma",
      album: "First Love",
      duration: "3:18",
      cover: "https://i.scdn.co/image/ab67616d0000b273c02645cc1de5c6b8e8b0b8e8",
      youtubeUrl: "https://youtube.com/watch?v=7maJOI3QMu0",
      youtubeId: "7maJOI3QMu0",
      genre: "Classical",
    },
  ],
};

export const searchMockTracks = (query) => {
  if (!query || query.length < 2) return [];

  const searchTerm = query.toLowerCase();

  if (genreTracks[query]) {
    return genreTracks[query];
  }

  const allTracks = [...mockTracks, ...Object.values(genreTracks).flat()];

  const uniqueTracks = allTracks.filter(
    (track, index, self) => index === self.findIndex((t) => t.id === track.id)
  );

  const results = uniqueTracks.filter(
    (track) =>
      track.title.toLowerCase().includes(searchTerm) ||
      track.artist.toLowerCase().includes(searchTerm) ||
      track.album.toLowerCase().includes(searchTerm) ||
      track.genre.toLowerCase().includes(searchTerm)
  );

  return results.map((track) => ({
    ...track,
    youtubeId: track.youtubeId || findYouTubeId(track.title, track.artist),
    youtubeUrl:
      track.youtubeUrl ||
      (track.youtubeId
        ? `https://youtube.com/watch?v=${track.youtubeId}`
        : null),
  }));
};

export const getPopularTracks = () => {
  return mockTracks.slice(0, 12);
};

export const getTracksByGenre = (genre) => {
  return genreTracks[genre] || mockTracks.slice(0, 6);
};
